on:
  schedule:
    # Trigger every 6 hours. https://crontab.guru/every-6-hours
    - cron: '0 */6 * * *'
  push:
    branches: [ "enhence-manual-build" ]

jobs:
  scheduled-tests:
    uses: nervosnetwork/godwoken-tests/.github/workflows/reusable-integration-test-v1.yml@develop
    with:
      kicker_ref: "enhence-manual-build"

  scheduled-manual-build-tests:
    uses: nervosnetwork/godwoken-tests/.github/workflows/reusable-integration-test-v1.yml@develop
    with:
      kicker_ref:     "enhence-manual-build"
      godwoken_ref:   "compatibility-breaking-changes"
      gw_scripts_ref: "compatibility-breaking-changes"
      polyjuice_ref:  "compatibility-breaking-changes"
      web3_ref:       "compatibility-breaking-changes"
